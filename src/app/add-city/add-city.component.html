<app-header title="Создание города" />
<main class="app-main">
  <a class="main-content__back-link" routerLink="/">
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M1.38998 3.13475L4.48997 0.274754C4.68624 0.0944069 4.9461 -0.000589691 5.2124 0.0106625C5.4787 0.0219147 5.72963 0.138494 5.90998 0.334754C6.09032 0.531014 6.18532 0.790879 6.17407 1.05718C6.16281 1.32348 6.04624 1.57441 5.84998 1.75475L4.46998 3.01475H9.09998C10.6913 3.01475 12.2174 3.6469 13.3426 4.77211C14.4678 5.89733 15.1 7.42346 15.1 9.01475C15.1 10.6061 14.4678 12.1322 13.3426 13.2574C12.2174 14.3826 10.6913 15.0148 9.09998 15.0148C8.83476 15.0148 8.5804 14.9094 8.39287 14.7219C8.20533 14.5343 8.09998 14.28 8.09998 14.0148C8.09998 13.7495 8.20533 13.4952 8.39287 13.3076C8.5804 13.1201 8.83476 13.0148 9.09998 13.0148C10.1608 13.0148 11.1783 12.5933 11.9284 11.8432C12.6785 11.093 13.1 10.0756 13.1 9.01475C13.1 7.95389 12.6785 6.93647 11.9284 6.18633C11.1783 5.43618 10.1608 5.01475 9.09998 5.01475H4.46998L5.84998 6.27475C5.99982 6.41094 6.10479 6.5894 6.151 6.78653C6.19722 6.98367 6.1825 7.19019 6.1088 7.37878C6.0351 7.56737 5.90588 7.72914 5.73825 7.8427C5.57061 7.95626 5.37245 8.01626 5.16998 8.01475C4.91956 8.01195 4.67838 7.91974 4.48997 7.75475L1.40998 4.91475C1.2821 4.80207 1.17948 4.66365 1.10883 4.50856C1.03817 4.35346 1.00108 4.18518 0.999975 4.01475C1.00011 3.849 1.03487 3.6851 1.10203 3.53356C1.16919 3.38202 1.26727 3.24619 1.38998 3.13475Z"
        fill="currentColor"
      />
    </svg>
    <span>Назад</span>
  </a>
  <form class="add-city-form" [formGroup]="cityForm" (ngSubmit)="onSubmit()">
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="name">Название города</label>
      <input
        class="add-city-form__input"
        id="name"
        type="text"
        formControlName="name"
      />
      @if ((submitted || cityForm.controls.name.touched ||
      cityForm.controls.name.dirty) &&
      cityForm.controls.name.hasError('required')) {
      <small class="add-city-form__error">Введите название</small>
      }
    </div>
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="description"
        >Описание города</label
      >
      <textarea
        class="add-city-form__input"
        rows="4"
        formControlName="description"
        id="description"
      ></textarea>
      @if ((submitted || cityForm.controls.description.touched ||
      cityForm.controls.description.dirty) &&
      cityForm.controls['description'].hasError('required')) {
      <small class="add-city-form__error">Введите описание</small>
      }
    </div>
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="image">Ссылка на картинку</label>
      <input
        class="add-city-form__input"
        id="image"
        type="url"
        formControlName="image"
      />@if (cityForm.controls['image'].hasError('pattern')) {
      <small class="add-city-form__error">Введите корректную ссылку</small>
      } @else if ((submitted || cityForm.controls.image.dirty ||
      cityForm.controls.image.touched) &&
      cityForm.controls['image'].hasError('required')) {
      <small class="add-city-form__error">Введите ссылку</small>
      }
    </div>
    <button class="add-city-form__submit-button" type="submit">Создать</button>
  </form>
</main>
