<app-header title="Создание города" />
<main class="app-main">
  <a class="main-content__back-link" routerLink="/">Назад</a>
  <form class="add-city-form" [formGroup]="cityForm" (ngSubmit)="onSubmit()">
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="name">Название города</label>
      <input
        class="add-city-form__input"
        id="name"
        type="text"
        formControlName="name"
      />
      @if ((submitted || cityForm.controls.name.touched ||
      cityForm.controls.name.dirty) &&
      cityForm.controls.name.hasError('required')) {
      <small class="add-city-form__error">Введите название</small>
      }
    </div>
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="description"
        >Описание города</label
      >
      <textarea
        class="add-city-form__input"
        rows="4"
        formControlName="description"
        id="description"
      ></textarea>
      @if ((submitted || cityForm.controls.description.touched ||
      cityForm.controls.description.dirty) &&
      cityForm.controls['description'].hasError('required')) {
      <small class="add-city-form__error">Введите описание</small>
      }
    </div>
    <div class="add-city-form__field">
      <label class="add-city-form__label" for="image">Ссылка на картинку</label>
      <input
        class="add-city-form__input"
        id="image"
        type="url"
        formControlName="image"
      />@if (cityForm.controls['image'].hasError('pattern')) {
      <small class="add-city-form__error">Введите корректную ссылку</small>
      } @else if (submitted || cityForm.controls.image.dirty ||
      cityForm.controls.image.touched &&
      cityForm.controls['image'].hasError('required')) {
      <small class="add-city-form__error">Введите ссылку</small>
      }
    </div>
    <button class="add-city-form__submit-button" type="submit">Создать</button>
  </form>
</main>
